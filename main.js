!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){if(!e.hasOwnProperty("segmentType"))throw console.log(e),Error("Invalid argument, needs segment type");var t,n;switch(e.segmentType){case"stand-alone":case"segregated":n=1;break;case"bike lane":n=function(e){let t,n,r,a;e.lanesAdjacent?(t=e.laneCount<2?1:3,n=e.lanesCombinedWidth>=15?1:e.lanesCombinedWidth>13.5?2:3,r=e.speed<=25?1:e.speed<35?2:e.speed<40?3:4):(t=1==e.laneCount?1:2==e.laneCount&&e.median?2:3,n=e.laneWidth>=6?1:2,r=e.speed<=30?1:e.speed<40?3:4);switch(e.blockage){case"rarely":a=1;break;case"frequently":a=3;break;default:throw Error("invalid blockage, must be 'rarely' or 'frequently'")}return Math.max(t,n,r,a)}(e);break;case"mixed traffic":n=function(e){let t;e.totalLanes>=6?t=4:e.totalLanes>3?t=e.speed>=30?4:3:e.speed>=35?t=4:(30==e.speed?t=3:e.speed<=25&&(t=2),!e.centerlines&&e.adt<=3e3&&(t-=1));return t}(e);break;default:throw Error("improper segment type")}switch(n){case 1:t="A";break;case 2:t="B";break;case 3:t="D";break;case 4:t="F";break;default:throw Error("points is invalid: "+n)}return{grade:t,points:n}}function a(){if(form.reportValidity()){var e=function(e){if(null==e)throw Error("Invalid form passed in");let t={},n=e.querySelectorAll("input, select, textarea");for(let e of n){var r=e.name,a=e.value;r&&(t[r]=a)}return t.lanesCombinedWidth=t.adjacent?t.width:NaN,t.laneWidth=t.adjacent?NaN:t.width,t}(form);i();var t=r(e),n=function(e){let t,n,r,a,o,i,l;l=e.fb?5.37:1,i=e.adt/20,t=e.curb?Math.max(0,e.wos-1.5):e.wos,n=0==e.ppk?e.wol+e.wbl+t:e.wol+e.wbl,r=e.devided||i>160?n:n*(2-.005*i),a=e.ppk<.25||e.parkingStriped?e.wbl+t:10;let d,u=6-.3*e.waa;return o=(o=6.0468+-1.2276*Math.log(r+.5*a+50*e.ppk+e.wbuf*l+e.waa*u)+.0091*i/(4*e.laneCount)+4*Math.pow(e.sr/100,2)).toFixed(2),{points:o=parseFloat(o),grade:d=o<=2?"A":o<=2.75?"B":o<=3.5?"C":o<=4.25?"D":o<=5?"E":"F"}}(e),a=function(e){let t,n,r,a,o,i,l,d,u,c,s,f,p,m;return u=e.adt/20,t=e.curb?Math.max(0,e.wos-1.5):e.wos,n=0==e.ppk?e.wol+e.wbl+t:e.wol+e.wbl,r=e.devided||u>160?n:n*(2-.005*u),a=e.wbl+e.wos<4?Math.max(r-10*e.ppk,0):Math.max(r+e.wbl+e.wos-20*e.ppk,0),o=u*(1-.001*e.phv)<200&&e.phv>50?50:e.phv,i=Math.max(21,e.sr),l=Math.max(u,4*e.laneCount),d=(.76+(c=-.005*Math.pow(a,2))+(s=.507*Math.log(l/(4*e.laneCount)))+(f=.199*(1.1199*Math.log(i-20)+.8103)*Math.pow(1+.1038*o,2))+(p=7.066/Math.pow(e.pc,2))).toFixed(2),{points:d=parseFloat(d),grade:m=d<=2?"A":d<=2.75?"B":d<=3.5?"C":d<=4.25?"D":d<=5?"E":"F"}}(e);t.name="LTS",n.name="PLOS",a.name="BLOS",o(t),o(a),o(n)}}function o(e){var t=document.createElement("p");if(!e.grade)throw Error("Cannot display "+e.name+" without a grade");t.textContent=`${e.name}: ${e.grade} (${e.points})`,document.body.appendChild(t)}function i(){form.reset(),type.selectedIndex=-1,blockage.selectedIndex=-1}n.r(t),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("type"),t=(document.getElementById("blockage"),document.getElementById("submit")),n=(document.getElementById("form"),!1);i(),e.addEventListener("input",(function(t){if(n)switch(n){case"bike lane":document.querySelectorAll(".if-bike-lane").forEach((function(e){e.removeAttribute("required")}));break;case"mixed traffic":document.querySelectorAll(".if-mixed").forEach((function(e){e.removeAttribute("required")}))}switch(n=e.value,e.value){case"stand-alone":case"segregated":break;case"bike lane":document.querySelectorAll(".if-bike-lane").forEach((function(e){e.setAttribute("required","")}));break;case"mixed traffic":document.querySelectorAll(".if-mixed").forEach((function(e){e.setAttribute("required","")}))}})),t.addEventListener("click",e=>{a()}),window.fill=()=>{document.getElementsByName("segmentName")[0].value="Cramer: Park-Newberry",document.getElementsByName("segmentType")[0].value="mixed traffic"}}))}]);